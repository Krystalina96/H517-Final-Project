<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <script src="https://d3js.org/d3.v3.min.js"></script>
    <link rel="stylesheet" href="style.css">

    <title>About</title>
  </head>

  <body>
    <!-- Side navigation -->
    <div class="sidenav">
        <a href="index.html">Visualization</a>
        <a href="about.html">About</a>
        <a href="video.html">Video</a>
    </div>

    <!-- Page content -->
    <div class="about main">
        <div class="header">About</div>

        <div class="about-item0">
            <p class="sub-header">Purpose & Data</p>
            <p class="item-text">
                The purpose of this project was to choose a dataset I'm interested in, come up with questions about the data, and answer them through creating interactive visualizations using D3.js.
                I decided to explore datasets pertaining to COVID-19 in the United States.
            </p>
            <p class="item-text">
                <b>The data I used included the following:</b>
                <ul>
                    <li><b>united_states_covid19_cases_deaths_and_testing_by_state.csv</b> - this file contains an aggregate of COVID-19 data by state</li>
                    <li><b>United_States_COVID-19_Cases_and_Deaths_by_State_over_Time.csv</b> - this file contains COVID-19 data by state over time</li>
                    <li><b>COVID-19_Case_Surveillance_Public_Use_Data_with_Geography.csv</b> - this file contains COVID-19 data by state on a case by case basis</li>
                    <ul>
                      <li>Because this file was so large, I had to break it up into different csv files for each state. They all follow the naming convention of StateAbbreviation_Covid_Cases.csv</li>
                    </ul>
                </ul>
            </p>
        </div>

        <div class="about-item1">
            <p class="sub-header">Design Process</p>
            <p class="item-text">
                The first thing I did to begin designing this project was write down what visuals I wanted to make in order to answer the questions posed in my project proposal.
                <br><br><b>Those included:</b>
                <ul>
                  <li>A timeline to show the trend of COVID-19 case over time</li>
                  <li>A map of the US showing total COVID-19 cases by state</li>
                  <li>A way to show total cases, and compare total deaths to total cases survived</li>
                  <li>Bar graphs showing cases divided by race and gender</li>
                  <li>Bar graphs showing deaths dividied by whether or not the person had underlying conditions and their symptom status
                </ul>
            </p>
            <p class="item-text">
                This plan began to change slightly once I started to really look into the data contained in the datasets I chose. I quickly realized that it wouldn't make sense to measure deaths
                based on underlying conditions, because most of that data was not included. The same came to measure deaths by symptom status. Instead I chose to measure deaths by age and deaths
                by whether or not the person had been hospitalized, as both of these factors had more data in the dataset and were also interesting metrics to consider.
                <br><br><b>After finalizing what visualizations to make, to better visualize my ideas I created an initial sketch:</b>
            </p>
            <img class="sketch" src="images/sketches-1.jpg" alt="First sketch of visualization">
            <p class-="item-text">
                After the first sketch I set to work creating the map and the graphs. I learned from my mistake with Project 1 and made sure to be deliberate with how I was creating
                the structure of the HTML to best ensure it'd be easier to style the page once that time came. At this point I also made the decision to make the 4 bar graphs soley with
                Indiana data, as that made the most sense to me at the time. Eventually I realized that I wouldn't have enough interactivity as so far only the map was interactive. This
                is when I decided to have the bar graphs be part of the map interaction. Instead of simply hovering over the states to get the information tooltip, I decided to add an on
                click event that would allow the bar graphs to be populated by data for the state that is being clicked.

                <br><br>
                <b>Becuase of this change I ended up creating two new iterations: </b>
            </p>
            <img class="sketch" src="images/sketches-2.jpg" alt="Second sketch of visualization">
            <p class-="item-text">
                The first additional sketch I made moved the tieline down to the bottom of the page, because I wanted the bar graphs to be directly below the map as they rely on the map
                to be created. I wanted to keep the map at the top of the page as it is honestly my favorite of the visualizations I made. However, I quickly realized that the empty divs
                did not look good when the page loaded up, so I needed to switch things around again.
                <br><br>
                <b>With this in mind I created my final sketch moving the timeline up below the totals, and putting the map and bar graphs below that:</b>
            </p>
            <img class="sketch" src="images/sketches-3.jpg" alt="Final sketch of visualization">
            <p class-="item-text">
              I like this final version because it allows me to hide and show the divs with the 4 bar graphs without disturbing any of the other visualizations.
            </p>
        </div>

        <div class="about-item2">
            <p class="sub-header">Design Choices</p>
            <p class="item-text">
                As I was modeling my map after the CDC COVID-19 US map, I chose to use the colors they used because it helped me to make sure I had created the map correctly.
                Even though I'm sure the creators of the CDC map must have done this already, I still made sure to run the colors through a color blindness simulator (color-blindness.com)
                just to do my due diligence. I also used the same colors in the other visualizations to create a cohesive overall look.
                <br><br>
                <b>The colors are as follows:</b>
            </p>
            <svg id="palette-grid" overflow="auto"></svg>
            <p class="item-text">
                As I mentioned previously, I wanted to group the graphs in ways that made sense when thinking about the interactivity and what each graph is showing.
                This made it easy to decide to group the total cases, total deaths, and percent survived pie chart together as they all pertain to cases for the United States as a whole.
                This was also my reasoning for grouping these on top of the timeline, as the timeline is also for cases in the US as a whole.
            </p>
            <p class="item-text">
                Lastly, I grouped together the map and the bar graphs because they interact together. Not only did it make sense to put these below the other graphs due to how the divs
                are hidden initially, but also because it makes sense for the flow of the page to go from data about the US as a whole, to then narrow down to a state-by-state basis.
            </p>
        </div>

        <div class="about-item3">
            <p class="sub-header">Discoveries & Questions</p>
            <p class="'item-text">
                <b>Before beginning this portion of the project I had made some initial questions in my project proposal: </b>
                <ul>
                    <li>What are the current COVID-19 trends in the US?</li>
                      <ul>
                        <li>Are COVID-19 cases increasing or decreasing?</li>
                        <li>Are there parts of the country that have more cases than others?</li>
                        <li>How many cases end in death?</li>
                      </ul>
                    <li>How has COVID-19 affected different demographics of people?</li>
                      <ul>
                        <li>Does race or ethnicity play a role?</li>
                        <li>Does gender play a role?</li>
                      </ul>
                    <li>What other factors appear to influence deaths?</li>
                      <ul>
                        <li>How big of a role do underlying conditions play? ** Due to data constraints this question became: How big of a role does age play? **</li>
                        <li>Does symptom status play a role? ** Due to data constraints this question became: How big of a role does hospitalization status play? **</li>
                      </ul>
                </ul>
                <b>After completing the visualizations these questions were easy to answer:</b>
                <ul class="discovery-grid-container">
                    <li class="discovery-item1">
                        The most obvious discovery from the timeline visualization is that COVID-19 cases in the US are still very clearly trending up. In fact it doesn't look
                        like there's much of an end in sight, despite several dips throughout the timeline.
                    </li>
                    <img class="screenshot discovery-item2" src="images/timeline-screenshot.png">

                    <li class="discovery-item3">
                        There are definitely places in the country that have been more affected by COVID than others. The map shows that the more rural states where people tend to be more
                        spread apart (such as Montana, Idaho, the Dakotas, Wyoming, Alaska, etc.) have the smallest number of overall cases. I think that it is safe  to assume that this
                        is because these states have smaller populations compared to their landmass. Whereas states that you would think have either bigger populations or people
                        grouped more closely together in cities like California, Texas and New York all have the highest numbers of cases.
                        This is something that would be interesting to look further into.
                    </li>
                    <img class="screenshot discovery-item4" src="images/map-screenshot.png">

                    <li class="discovery-item5">
                        Although only about 1% (rounded up) of cases in the US end in death, it is still important to note that 1% of about 80 million is still nearly 1 million people.
                        It is easy to lose sight of that when just looking at just a percentage, which is why I wanted to make sure to include the raw number as well. When it comes to
                        human lives, 1 person is 1 too many.
                    </li>
                    <img class="screenshot discovery-item6" src="images/totals-screenshot.png">

                    <li class="discovery-item7">
                        To answer the demographic questions I'm going to focus on California as it has the largest sample size.
                        <ul>
                          <li>
                            When thinking about race, the first thing I'm inferring from the graph is that it probably aligns with percentages of people of each racial group in California.
                            However, this is something that would need to be confirmed with other data to make a definitive statement.
                          </li>
                          <li>
                            A quick Google search showed that the male / female split in California is about even, so it's interesting that there are about 8,000 more cases among males than
                            females. This is also another area for further research to investigate whether or not that is a significant difference.
                          </li>
                          <li>
                            We have all probably heard that COVID-19 is most deadly for the elderly. The data for California seems to coroborate that, as the group with most deaths is by far
                            those that are 65+. However, it is interesting to note that there are still cases of death in the groups 18-49 and 50-64, as a majority of the other states did not
                            report any deaths in categories other than 65+.
                          </li>
                          <li>
                            Lastly, it appears that the number of deaths for those who were hospitalized is very much higher than those who were not hospitalized and dead. This seems to be
                            essentially common sense, however there are many factors that could have affected this that the data does not show. For example, for the people that died
                            and were not hospitalized is this because they didn't think they needed to be or because there was simply no more room in any hospitals nearby for them?
                            This is another line of thinking that could warrant further investigation.
                          </li>
                        </ul>

                    </li>
                    <img class="screenshot discovery-item8" src="images/race-sex-screenshot.png">
                    <img class="screenshot discovery-item9" src="images/age-hospital-screenshot.png">

                </ul>
            </p>
        </div>

        <div class="footer">&copy; Copyright 2022 Krystal Nolasco</div>
    </div>

    <script>

        //create svg area
        var svg_palette = d3.select('#palette-grid')
            .attr('width', 1200)
            .attr('height', 490);
            //.style('border', 'solid');

        //color rect
        var g = svg_palette.selectAll('rect')
            .data([10, 80, 150, 220, 290, 360, 430])
            .enter()
            .append('g')
            .classed('rect', true)

        var paletteColors = d3.scale.ordinal().range(["black", "#ccffcc", "#7fcdbb", "#41b6c4", "#1d91c0", "#225da8", "#003366"]);

        var test = g.append('rect')
            .attr('width', 50)
            .attr('height', 50)
            .attr('x', 20)
            .attr('y', function(d) { return d; })
            .attr('fill', function (d, i) { return paletteColors(i); });

        svg_palette.append('text')
            .attr('class', 'palette-label')
            .attr('x', 90)
            .attr('y', 39)
            .text('I chose black as the main color for the side navigation and graphs because it is simple and easy to distinguish.');

        svg_palette.append('text')
            .attr('class', 'palette-label')
            .attr('x', 90)
            .attr('y', 109)
            .text('I used this color in the map, and in the pie chart as I wanted the pie chart colors to be very high contrast.');

        svg_palette.append('text')
            .attr('class', 'palette-label')
            .attr('x', 90)
            .attr('y', 179)
            .text("I used this color in the map, pie chart, and I also used it for the line graph because it isn't too light or too dark.");

        svg_palette.append('text')
            .attr('class', 'palette-label')
            .attr('x', 90)
            .attr('y', 249)
            .text('I used this color in the map, and the cases by race and sex bar charts. I wanted them to show that they are related visually.');

        svg_palette.append('text')
            .attr('class', 'palette-label')
            .attr('x', 90)
            .attr('y', 319)
            .text('This color was only used in the map.');

        svg_palette.append('text')
            .attr('class', 'palette-label')
            .attr('x', 90)
            .attr('y', 389)
            .text('I used this color in the map, and for the deaths by age and hospitalization status bar charts to set them apart from the other two bar charts.');

        svg_palette.append('text')
            .attr('class', 'palette-label')
            .attr('x', 90)
            .attr('y', 459)
            .text('This color was only used in the map.');

    </script>
  </body>
